(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{273:function(e,t){},275:function(e,t){},286:function(e,t){},288:function(e,t){},316:function(e,t){},318:function(e,t){},319:function(e,t){},324:function(e,t){},326:function(e,t){},332:function(e,t){},334:function(e,t){},353:function(e,t){},365:function(e,t){},368:function(e,t){},406:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var c=n(62),s=n(63),i=n(64),a=n(68),r=n(0),o=n.n(r),l=n(13),u=n.n(l),j=n(6),p=n(1),d=o.a.createContext();var b=function(e){var t=e.children,n=Object(r.useState)(),c=Object(j.a)(n,2),s=c[0],i=c[1],a=Object(r.useState)(),o=Object(j.a)(a,2),l=o[0],u=o[1],b=Object(r.useState)(),h=Object(j.a)(b,2),O=h[0],m=h[1];Object(r.useEffect)((function(){!function(){var e=localStorage.getItem("completed"),t=JSON.parse(e);i(t||!1)}()}),[]),Object(r.useEffect)((function(){!function(){var e=localStorage.getItem("items"),t=+JSON.parse(e);u(t||3)}()}),[]),Object(r.useEffect)((function(){!function(){var e=localStorage.getItem("sort"),t=JSON.parse(e);m(t||"difficulty")}()}),[]);var f={showCompleted:s,itemsToDisplay:l,sortString:O,setShowCompleted:i,setItemsToDisplay:u,setSortString:m};return Object(p.jsx)(d.Provider,{value:f,children:t})},h=n(25),O=n(18),m=n.n(O),f=n(70),x=n.n(f),g=n(185),v=n(23),S=n.n(v),y=o.a.createContext(),C=(n(271),function(e){var t=e.children,n=Object(r.useState)(!1),c=Object(j.a)(n,2),s=c[0],i=c[1],a=Object(r.useState)({}),o=Object(j.a)(a,2),l=o[0],u=o[1],d=function(){var e=Object(h.a)(m.a.mark((function e(t,n){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("https://api-js401.herokuapp.com/signin",{},{auth:{username:t,password:n}});case 2:c=e.sent,console.log(c),(s=c.data)&&b(s.token);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e){try{var t=Object(g.a)(e);t&&(u(t),i(!0),x.a.save("auth",e))}catch(n){console.log(n.message)}};Object(r.useEffect)((function(){x.a.load("auth")&&i(!0)}),[]);var O={user:l,can:function(e){var t;return null===l||void 0===l||null===(t=l.capabilities)||void 0===t?void 0:t.includes(e)},isLoggedIn:s,login:d,logout:function(){u({}),i(!1),x.a.remove("auth")}};return Object(p.jsx)(y.Provider,{value:O,children:t})}),w=n(67),k=n(101),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.useState)({}),c=Object(j.a)(n,2),s=c[0],i=c[1],a=function(t){t.preventDefault(),e(s)},o=function(e){e.persist(),i((function(t){return Object(k.a)(Object(k.a)({},t),{},Object(w.a)({},e.target.name,e.target.value))}))};return Object(r.useEffect)((function(){i(t)}),t),{handleChange:o,handleSubmit:a,values:s}},N=n(414),T=n(50),I=n(51),L=n(413);var A=function(e){var t=e.incomplete,n=Object(r.useState)(!0),c=Object(j.a)(n,2),s=c[0],i=c[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("header",{children:[s?Object(p.jsx)("h1",{children:"Home"}):Object(p.jsx)("h1",{children:"Settings"}),Object(p.jsx)(L.e,{id:"navBar",className:"bp4-dark bp4-align-center",children:Object(p.jsxs)(L.g,{align:"center",children:[Object(p.jsx)(I.b,{to:"/todo-app-1",className:"links",children:"Home"}),Object(p.jsx)(L.f,{}),Object(p.jsx)(L.h,{id:"nav-heading",children:"Links"}),Object(p.jsx)(L.f,{}),Object(p.jsx)(I.b,{to:"/todo-app-1/settings",className:"links",onClick:function(){return i(!1)},children:"Settings"})]})})]}),Object(p.jsx)("header",{id:"item-counter",children:Object(p.jsxs)("h1",{children:["To Do List: ",t," items pending"]})})]})},E=function(e){var t=e.handleChange,n=e.handleSubmit,c=e.defaultValues;return Object(p.jsxs)("form",{onSubmit:n,id:"list-form",children:[Object(p.jsx)("h2",{children:"Add To Do Item"}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"To Do Item"}),Object(p.jsx)("input",{onChange:t,name:"text",type:"text",placeholder:"Item Details"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"Assigned To"}),Object(p.jsx)("input",{onChange:t,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"Difficulty"}),Object(p.jsx)("input",{onChange:t,defaultValue:c.difficulty,type:"range",min:1,max:5,name:"difficulty"})]}),Object(p.jsx)("label",{children:Object(p.jsx)(L.a,{type:"submit",className:"bp4-intent-success",children:"Add Item"})})]})},J=n(27),F=n.p+"static/media/palm.e1314561.jpg",_=function(e){var t=e.list,n=e.toggleComplete,c=e.deleteItem,s=Object(r.useContext)(d),i=Object(r.useState)(1),a=Object(j.a)(i,2),o=a[0],l=a[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("section",{id:"cards",children:[t.length>0?function(){var e=[],n=s.itemsToDisplay,c=s.itemsToDisplay*o-n,i=s.itemsToDisplay*o;if(t.length>s.itemsToDisplay){for(var a=c;a<i;a++)e.push(t[a]);return e}return t}().map((function(e){return e?Object(p.jsxs)(L.b,{elevation:J.a.TWO,children:[Object(p.jsx)("img",{src:F,alt:"palm",className:"mini-palm"}),Object(p.jsx)("h3",{children:e.text}),Object(p.jsxs)("p",{children:["Assigned to: ",e.assignee]}),Object(p.jsxs)("p",{children:["Difficulty: ",e.difficulty]}),Object(p.jsxs)(L.a,{onClick:function(){return n(e._id,e.complete)},className:e.complete?"bp4-intent-danger":"bp4-intent-primary",children:["Complete: ",e.complete.toString()]}),Object(p.jsx)(L.a,{onClick:function(){return c(e._id)},className:"bp4-intent-warning",style:{marginLeft:"1rem"},children:Object(p.jsx)(L.c,{icon:"trash"})}),Object(p.jsx)("hr",{})]},e._id):null})):Object(p.jsx)("img",{src:F,alt:"palm",id:"palm"}),t.length>2*s.itemsToDisplay||o>1?Object(p.jsx)(L.a,{type:"click",onClick:function(){return l(o-1)},className:" buttons bp4-intent-warning",disabled:o<2,children:"Previous"}):null,t.length>s.itemsToDisplay?Object(p.jsx)(L.a,{type:"click",onClick:function(){return l(o+1)},className:"buttons bp4-intent-success",disabled:t.length/o<=s.itemsToDisplay,children:"Next"}):null]})})},P=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(p.jsxs)("footer",{children:[Object(p.jsx)("p",{onClick:function(e){c(!n)},id:"me",children:"Andres Mills Gallego \xa9 2022"}),Object(p.jsx)("p",{className:n?"showPath":"hidden",children:"\u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f \u27a1 \ud83d\udc5f"}),Object(p.jsxs)("div",{id:"links",children:[Object(p.jsx)("a",{href:"https://github.com/AndresMillsGallego",children:"GitHub"}),Object(p.jsx)("a",{href:"https://www.linkedin.com/in/andres-mills-gallego/",children:"LinkedIn"})]})]})},G=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),a=i[0],o=i[1],l=function(){var e=Object(h.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n,a),c={username:n,password:a},e.next=5,S.a.post("https://api-js401.herokuapp.com/signup",c);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("form",{onSubmit:l,children:Object(p.jsxs)("fieldset",{id:"signup-form",children:[Object(p.jsx)("legend",{children:"Sign Up!"}),Object(p.jsx)(L.d,{children:Object(p.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)},placeholder:"username"})}),Object(p.jsx)(L.d,{children:Object(p.jsx)("input",{type:"text",onChange:function(e){o(e.target.value)},placeholder:"password"})}),Object(p.jsx)(L.a,{type:"submit",className:"bp4-intent-primary",children:"Submit"})]})})},H=function(){var e=Object(r.useContext)(y),t=e.isLoggedIn,n=e.login,c=e.logout,s=Object(r.useState)(""),i=Object(j.a)(s,2),a=i[0],o=i[1],l=Object(r.useState)(""),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(r.useState)(!1),O=Object(j.a)(h,2),m=O[0],f=O[1],x=function(e){var t=e.target,n=t.name,c=t.value;"username"===n&&o(c),"password"===n&&b(c)};return Object(p.jsxs)("div",{id:"login",children:[Object(p.jsxs)(T.a,{condition:t,children:[Object(p.jsx)(L.a,{onClick:c,className:"bp4-intent-danger logout",children:"Logout"}),Object(p.jsxs)("h3",{id:"welcome",children:["Welcome ",a,"!"]})]}),Object(p.jsxs)(T.a,{condition:!t,children:[Object(p.jsx)("h1",{id:"login-h1",children:"ToDo App"}),m?Object(p.jsx)(G,{}):Object(p.jsx)(L.a,{id:"show-signup",onClick:function(){return f(!m)},className:"bp4-intent-warning",children:"Sign Up Now!"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(a,d)},id:"login-form",children:[Object(p.jsx)("input",{"data-testid":"username",placeholder:"username",name:"username",type:"text",onChange:x}),Object(p.jsx)("input",{"data-testid":"password",placeholder:"password",name:"password",type:"text",onChange:x}),Object(p.jsx)(L.a,{type:"submit",className:"bp4-intent-primary",children:"Login"})]})]})]})},V=function(){Object(r.useContext)(d);var e=Object(r.useContext)(y),t={difficulty:4},n=Object(r.useState)([]),c=Object(j.a)(n,2),s=c[0],i=c[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),l=o[0],u=o[1],b=D((function(e){return x.apply(this,arguments)}),t),O=b.handleChange,f=b.handleSubmit;function x(){return(x=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("item",t),n={assignee:t.assignee,text:t.text,difficulty:t.difficulty,id:Object(N.a)(),complete:!1},e.next=4,S.a.post("https://api-js401.herokuapp.com/api/v1/todo",n);case 4:e.sent,g();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://api-js401.herokuapp.com/api/v1/todo");case 2:t=e.sent,i(t.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("https://api-js401.herokuapp.com/api/v1/todo/".concat(t));case 2:e.sent,n=s.filter((function(e){return e._id!==t})),i(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(h.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("https://api-js401.herokuapp.com/api/v1/todo/".concat(t),{complete:!n});case 2:c=e.sent,console.log(c),a=s.map((function(e){return e._id===t&&(e.complete=!e.complete),e})),i(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){g()}),[]),Object(r.useEffect)((function(){var e=s.filter((function(e){return!e.complete})).length;u(e),document.title="To Do List: ".concat(l)}),[s]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(H,{}),Object(p.jsxs)(T.a,{condition:e.isLoggedIn,children:[Object(p.jsx)(A,{incomplete:l}),Object(p.jsxs)("div",{id:"main",children:[Object(p.jsx)(E,{handleChange:O,handleSubmit:f,defaultValues:t}),Object(p.jsx)(_,{list:s,toggleComplete:function(e,t){return w.apply(this,arguments)},deleteItem:function(e){return C.apply(this,arguments)}})]}),Object(p.jsx)(P,{})]})]})},B=function(){var e=Object(r.useContext)(d),t=Object(r.useState)(e.showCompleted),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(e.itemsToDisplay),a=Object(j.a)(i,2),o=a[0],l=a[1],u=Object(r.useState)(e.sortString),b=Object(j.a)(u,2),h=b[0],O=b[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(A,{}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log(e.itemsToDisplay),e.setShowCompleted(c),localStorage.setItem("completed",JSON.stringify(c)),e.setItemsToDisplay(o),localStorage.setItem("items",JSON.stringify(o)),e.setSortString(h),localStorage.setItem("sort",JSON.stringify(h)),alert("Change Approved!")},id:"settings-form",children:[Object(p.jsx)("h2",{children:"Settings"}),Object(p.jsxs)(L.d,{children:["Show Completed",Object(p.jsx)(L.i,{checked:c,onChange:function(){return s(!c)}})]}),"Items To Display ",Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"number",min:"1",max:"5",onChange:function(e){l(e.target.value)}}),Object(p.jsxs)(L.d,{children:["Sort String ",Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",onChange:function(e){O(e.target.value)}})]}),Object(p.jsx)(L.a,{type:"submit",className:"bp4-intent-primary",children:"Submit Changes"}),e.sortString?Object(p.jsxs)("div",{id:"current-settings",children:[Object(p.jsx)("h3",{children:"Current Settings"}),Object(p.jsxs)("p",{children:["Show Completed: ",e.showCompleted.toString()]}),Object(p.jsxs)("p",{children:["Items To Display: ",e.itemsToDisplay]}),Object(p.jsxs)("p",{children:["Sort String: ",e.sortString]})]}):null]}),Object(p.jsx)(P,{})]})},M=n(5),U=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(I.a,{children:Object(p.jsxs)(M.c,{children:[Object(p.jsx)(M.a,{path:"/todo-app-1/settings",element:Object(p.jsx)(B,{})}),Object(p.jsx)(M.a,{path:"/todo-app-1",element:Object(p.jsx)(V,{})})]})})})}}]),n}(o.a.Component),W=(n(406),function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)(b,{children:Object(p.jsx)(C,{children:Object(p.jsx)(U,{})})})}}]),n}(o.a.Component)),q=document.getElementById("root");u.a.render(Object(p.jsx)(W,{}),q)}},[[407,1,2]]]);
//# sourceMappingURL=main.1ce5bfaa.chunk.js.map